<!DOCTYPE html>
<html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="hevea 2.29+5 of 2017-05-18">
<link rel="stylesheet" type="text/css" href="cascmd_en.css">
<title>Writing output to a file: fopen fclose fprint


</title>
</head>
<body >
<a href="cascmd_en764.html"><img src="previous_motif.gif" alt="Previous"></a>
<a href="index.html"><img src="contents_motif.gif" alt="Up"></a>
<a href="cascmd_en766.html"><img src="next_motif.gif" alt="Next"></a>
<hr>
<h3 id="sec1957" class="subsection">12.4.4  Writing output to a file: <span style="font-family:monospace">fopen</span> <span style="font-family:monospace">fclose</span> <span style="font-family:monospace">fprint</span>
<a id="hevea_default1415"></a>
<a id="hevea_default1416"></a>
<a id="hevea_default1417"></a></h3>
<p>You can use the <span style="font-family:monospace">fopen</span>, <span style="font-family:monospace">fprint</span> and <span style="font-family:monospace">fclose</span>
commands to write output to a file instead of the screen.</p><p><br>
</p><p>The <span style="font-family:monospace">fopen</span> command creates and opens a file to write into.
</p><ul class="itemize"><li class="li-itemize">
<span style="font-family:monospace">fopen</span> takes one argument:<br>
 <span style="font-style:italic">filename</span>, a string.
</li><li class="li-itemize"><span style="font-family:monospace">fopen(</span><span style="font-style:italic">filename</span><span style="font-family:monospace">)</span> creates a file
named <span style="font-style:italic">filename</span> (and erases it if it already exists).
</li></ul><p>
To use this, you need to associate it with a variable
<span style="font-style:italic">var</span><span style="font-family:monospace">:=fopen(</span><span style="font-style:italic">filename</span><span style="font-family:monospace">)</span>
which you can use to refer to the file when printing to it.</p><p><br>
</p><p>The <span style="font-family:monospace">fprint</span> command writes to a file.
</p><ul class="itemize"><li class="li-itemize">
<span style="font-family:monospace">fprint</span> takes two mandatory arguments and one optional
argument:
<ul class="itemize"><li class="li-itemize">
<span style="font-style:italic">var</span>, a variable name associated with a file through
<span style="font-family:monospace">fopen</span>.
</li><li class="li-itemize">Optionally,
<span style="font-family:monospace">Unquoted</span><a id="hevea_default1418"></a>, the symbol.
</li><li class="li-itemize"><span style="font-style:italic">info</span>, a list of what you want to write to the file.
</li></ul>
</li><li class="li-itemize"><span style="font-family:monospace">fprint(</span><span style="font-style:italic">var</span> ⟨<span style="font-family:monospace"> Unquote
</span>⟩<span style="font-style:italic">,info</span><span style="font-family:monospace">)</span> writes
<span style="font-style:italic">info</span> into the file given by <span style="font-style:italic">var</span>. 
By default, strings in <span style="font-style:italic">info</span> are written with their
quotation marks, with the option <span style="font-family:monospace">Unquoted</span>, <span style="font-family:monospace">fprint</span>
will print them with the quotation marks.
</li></ul><p><br>
</p><p>The <span style="font-family:monospace">fclose</span> command closes a file.
</p><ul class="itemize"><li class="li-itemize">
<span style="font-family:monospace">fclose</span> takes one argument:<br>
 <span style="font-style:italic">var</span>, a variable assigned to a file with <span style="font-family:monospace">fopen</span>.
</li><li class="li-itemize"><span style="font-family:monospace">fclose(</span><span style="font-style:italic">var</span><span style="font-family:monospace">)</span> closes the file given
by <span style="font-style:italic">var</span> to further writing.
</li></ul><h4 id="sec1958" class="subsubsection">Example</h4>
<p>
To write contents to a file, you first need to open the file and
associate it with a variable.<br>
<span style="font-style:italic">Input:</span>
</p><div class="center">
<span style="font-family:monospace">f:= fopen("bar")</span>
</div><p>
This creates a file named “bar” (and so erase it if it already
exists). To write to the file:<br>
<span style="font-style:italic">Input:</span>
</p><div class="center">
<table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:left;white-space:nowrap" > <span style="font-family:monospace">x:=9</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" > <span style="font-family:monospace">fprint(f,"x + 1 is ", x+1)</span>
</td></tr>
</table>
</div><p>
will put
</p><div class="center">
<span style="font-family:monospace">"x + 1 is "10</span>
</div><p>
in the file. Note that the quotation marks are inserted with the
<span style="font-family:monospace">Unquoted</span> argument:<br>
<span style="font-style:italic">Input:</span>
</p><div class="center">
<table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:left;white-space:nowrap" > <span style="font-family:monospace">x:=9</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" > <span style="font-family:monospace">fprint(f,Unquoted,"x + 1 is ", x+1)</span>
</td></tr>
</table>
</div><p>
will put
</p><div class="center">
<span style="font-family:monospace">x + 1 is 10</span>
</div><p>
in the file. Finally, after you have finished writing what you want
into the file, you close the file with the <span style="font-family:monospace">fclose</span> command:<br>
<span style="font-style:italic">Input:</span>
</p><div class="center">
<span style="font-family:monospace">fclose(f)</span>
</div>
<hr>
<a href="cascmd_en764.html"><img src="previous_motif.gif" alt="Previous"></a>
<a href="index.html"><img src="contents_motif.gif" alt="Up"></a>
<a href="cascmd_en766.html"><img src="next_motif.gif" alt="Next"></a>
</body>
</html>
